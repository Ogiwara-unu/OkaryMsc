<app-navbar></app-navbar>

<body>
  <div class="playList-list-container">
    

    <h2>Playlists</h2>

    <div *ngIf="loading" class="loading-spinner">
      <mat-spinner></mat-spinner>
      <p>Cargando playlists...</p>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
      <button (click)="loadPlaylists()">Reintentar</button>
    </div>

    <table *ngIf="!loading && !error" class="playList-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Descripci√≥n</th>
          <th>Usuario</th>
          <th>Canciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let playlist of playlists; let i = index" (click)="onRowClick(playlist)">
           <td class="title-cell">
                <img [src]="playlist.photoUrl || 'assets/img/default-playlist.jpeg'" 
                     alt="{{ playlist.name }}"/>
                <div class="title-info">
                  <strong>{{ playlist.name }}</strong>
                </div>
              </td>
          <td>{{ formatDescription(playlist.description) }}</td>
          <td>{{ playlist.user.username }}</td>
          <td>{{ playlist.canciones?.length || 0 }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
<app-footer></app-footer>